% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rolling_slope.R
\name{peak_directional_slope}
\alias{peak_directional_slope}
\title{Calculate Peak Positive or Negative Slope}
\usage{
peak_directional_slope(
  y,
  x = NULL,
  width,
  align = c("center", "left", "right"),
  na.rm = FALSE
)
}
\arguments{
\item{y}{A numeric vector of response values.}

\item{x}{A numeric vector of predictor values. If \code{NULL}, uses \code{seq_along(y)}.}

\item{width}{An integer scalar defining the window width (in units of \code{x})
for rolling calculations.}

\item{align}{Specifies the window alignment of \code{width} as \emph{"center"}
(the default), \emph{"left"}, or \emph{"right"}.}

\item{na.rm}{A logical indicating whether to exclude NA values from rolling slope
calculations.}
}
\value{
A list containing \code{L$y}, a numeric scalar of the peak slope value,
and \code{L$idx}, the position index of the peak slope value.
}
\description{
Computes the peak positive or negative slope for upward or downward trending
data, respectively. Using \link[=rolling_slope]{rolling slope} analysis.
}
\details{
The function first calculates rolling slopes using \code{\link[=rolling_slope]{rolling_slope()}}, then
determines overall trend direction using least squares regression. For upward
trends (positive overall slope), returns the greatest positive rolling slope.
For downward trends (negative overall slope), returns the greatest negative
rolling slope.
}
\examples{
# Upward trending data returns peak positive slope
y_up <- c(1, 3, 2, 5, 8, 7, 9, 12, 11, 14)
peak_directional_slope(y_up, width = 3)

# Downward trending data returns peak negative slope
y_down <- c(14, 11, 12, 9, 7, 8, 5, 2, 3, 1)
peak_directional_slope(y_down, width = 3)

}
