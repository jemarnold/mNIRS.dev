% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rolling_slope.R
\name{rolling_slope}
\alias{rolling_slope}
\title{Calculate Rolling Slope}
\usage{
rolling_slope(
  y,
  x = NULL,
  width,
  align = c("center", "left", "right"),
  na.rm = FALSE
)
}
\arguments{
\item{y}{A numeric vector of response values.}

\item{x}{A numeric vector of predictor values. If \code{NULL}, uses \code{seq_along(y)}.}

\item{width}{An integer scalar defining the window width for rolling calculations.}

\item{align}{Specifies the window alignment of \code{width} as \emph{"center"}
(the default), \emph{"left"}, or \emph{"right"}.}

\item{na.rm}{A logical indicating whether to exclude NA values from rolling slope
calculations.}
}
\value{
A numeric vector of rolling local slopes of the same length as \code{y}.
}
\description{
Computes rolling first derivative (slope) of \code{y} over \code{x} using least squares
regression within a moving window.
}
\details{
The function uses the least squares formula:
\code{slope = sum((x - x_mean) * (y - y_mean)) / sum((x - x_mean)^2)}.

When \code{na.rm = TRUE}, \code{NA} values are excluded from calculations. If fewer than 2
valid points remain in a window, \code{NA} will be returned for that position.
}
\examples{
## basic usage with default centred alignment
y <- c(1, 3, 2, 5, 8, 7, 9, 12, 11, 14)
rolling_slope(y, width = 3)

## with custom x values and left alignment
x <- seq(0, 1, length.out = 10)
rolling_slope(y, x, width = 3, align = "left")

## handling missing values with `na.rm = TRUE`
y_na <- c(1, 3, NA, 5, 8, 7, 9, 12, NA, 14)
rolling_slope(y_na, width = 3, na.rm = FALSE)
rolling_slope(y_na, width = 3, na.rm = TRUE)

}
\seealso{
\code{\link[zoo:rollapply]{zoo::rollapply()}}
}
